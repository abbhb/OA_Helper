# 打印文档

## 实现

通过consul服务中心和rocketmq队列为桥梁进行服务之间的通讯

## 注意

在创建任务的时候就已经创建好了缩略图的链接，无需后续创建，需要的参数都已经创建好在redis了

### 细分

分为文件处理消费者和打印消费者

#### 打印消费者
print_filetopdf_send_msg为生产者->很多打印机消费者
print_filetopdf_send_msg_r 为某打印机消费者->原生产者服务端，修改打印状态
print_filetopdf_send_msg要求创建的时候读写队列数都为一，不然会导致打印端多线程，造成的双面打印配置紊乱
该消费者仅一个，一个打印机一个，监听tag为自己打印机注册时的name

#### 文件处理消费者

任意个，生产者将文件发送到该队列，消费者消费进行转pdf，转完文件对象通过URL来传递